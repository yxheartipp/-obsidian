---
alias: []
Type: 
tags: ["#review"]
sr-due: 2024-08-06
sr-interval: 1
sr-ease: 250
---
sqlite-vec是一个全c的由sqlite支持的扩展引擎。
1. 编译方便，在rk3588上可以直接编译出sqlite3-vec的so库，转移到2000D上可以直接编译运行
![[sqlite_vector 2000D.png]]
2. 采用汉明编码方式，减少了32倍的内存消耗，在损失5-10%的性能情况下，提升了10的速度，同时将直接提供了压缩接口可以直接应用于其他库中。
3. 目前只支持全量搜索并不支持ANN等近似搜索方式，目前只提供了KNN方式。
4. sqlite-vec采用内存表的方式在查找过程中，vec0虚拟内存表提供了一个计算优化的影子表，以此来加速KNN查找，使得普通的Select查找和KNN查找有一样的效果。
5. 不支持客户端模式调用，只能通过进程内部方式进行调用
6. 构建表时间较长：与faiss等相比，sqlite-vec构建表用时在40倍左右，搜索时间在3倍左右。
7. **对内存要求较为严格**，对于960维度向量，8GB的内存只能支持50万条数据，否则会导致内存耗光。2000D上目前可用的内存空间只有1.9G，所以是否使用需要具体应用场景的分析。
![[Pasted image 20240805164745.png]]
8. 迭代速度在模型较小，数据条数较多可以放在内存中运行的情况下运行较快。在 100 万个向量时，768维度数据总共大小为3.07GB，用时2.62s完成了KNN搜索。
9. 文档支持较差，作者提供的文档目前比较简陋，只支持python的测试接口。其他语言只开放了一个demo。
10. [good_dot](https://github.com/Adriankhl/godot-llm/tree/main) 使用了sqlite-vec作为向量数据库，在该项目中表现较为不错。